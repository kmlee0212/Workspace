<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
<meta name="format-detection" content="telephone=no">
<title> Drob </title>
<link rel="stylesheet" href="./resources/css/import.css">
<script src="./resources/js/libs/jquery.min.js"></script>
</head>
<body>
<div class="page-content">
	<div class="screen-wrap">
		<div class="search-box">
			<table>
				<colgroup>
					<col style="width:13rem">
					<col style="">
					<col style="width:13rem">
					<col style="">
					<col style="width:13rem">
					<col style="">
					<col style="width:13rem">
					<col style="">
					<col style="">
				</colgroup>
				<tbody>
					<tr>
						<th scope="row"><span>화면ID</span></th>
						<td>
							<input type="text" placeholder="화면ID 입력">
						</td>
						<th scope="row"><span>화면명</span></th>
						<td>
							<input type="text" placeholder="화면명 입력">
						</td>
						<th scope="row"><span>출력시스템</span></th>
						<td>
							<!-- SELECT -->
							<div class="select-box" style="width:100%;">
								<div class="label" id="sel-id1">셀렉트 선택</div>
								<div class="select">
									<button type="button" aria-haspopup="true" aria-expanded="false" id="selBtn-id1" aria-labelledby="sel-id1"><em></em></button>
									<div class="select-option">
										<ul role="listbox" tabindex="-1" aria-labelledby="selBtn-id1">
											<li role="option" class="selected"><button type="button">선택</button></li>
											<li role="option"><button type="button">1</button></li>
										</ul>
									</div>
								</div>
							</div>
							<!-- //SELECT -->
						</td>
						<th scope="row"><span>화면유형</span></th>
						<td>
							<!-- SELECT -->
							<div class="select-box" style="width:100%;">
								<div class="label" id="sel-id1">셀렉트 선택</div>
								<div class="select">
									<button type="button" aria-haspopup="true" aria-expanded="false" id="selBtn-id2" aria-labelledby="sel-id1"><em></em></button>
									<div class="select-option">
										<ul role="listbox" tabindex="-1" aria-labelledby="selBtn-id2">
											<li role="option" class="selected"><button type="button">선택</button></li>
											<li role="option"><button type="button">1</button></li>
										</ul>
									</div>
								</div>
							</div>
							<!-- //SELECT -->
						</td>
						<th scope="row"><span>업무구분</span></th>
						<td>
							<!-- SELECT -->
							<div class="select-box" style="width:100%;">
								<div class="label" id="sel-id1">셀렉트 선택</div>
								<div class="select">
									<button type="button" aria-haspopup="true" aria-expanded="false" id="selBtn-id3" aria-labelledby="sel-id1"><em></em></button>
									<div class="select-option">
										<ul role="listbox" tabindex="-1" aria-labelledby="selBtn-id3">
											<li role="option" class="selected"><button type="button">선택</button></li>
											<li role="option"><button type="button">1</button></li>
										</ul>
									</div>
								</div>
							</div>
							<!-- //SELECT -->
						</td>
						<td></td>
					</tr>
				</tbody>
			</table>
			<div class="btn">
				<div class="inner">
					<button type="button" class="btn-solid2 m ico-refresh"><span>초기화</span></button>
					<button type="button" class="btn-solid1 m ico-search"><span>조회</span></button>
				</div>
			</div>
		</div>
		<div class="tits2">
			<div class="tit">
				<h3>제목</h3>
			</div>
			<div class="item">
				<button type="button" class="btn-outline2 m ico-plus"><span>추가</span></button>
				<button type="button" class="btn-outline2 m ico-delete"><span>삭제</span></button>
				<button type="button" class="btn-outline2 m ico-save"><span>저장</span></button>
				<button type="button" class="btn-outline2 m ico-download"><span>다운로드</span></button>
				<button type="button" class="btn-outline2 m ico-upload"><span>업로드</span></button>
			</div>
		</div>
		<div>그리드 영역</div>
	</div>
</div>

<script>
	/* select */
	function selectbox() {
		const $selectbox = $('.select-box');
		const $spd = 200;
		function selectboxClose() {
			$selectbox.removeClass('on').find('.select-option').stop().slideUp($spd);
			$selectbox.find('.select>button').attr('aria-expanded', false);
		}
	
		$selectbox.each(function() {
			const $loadTxt = $(this).find('li.selected button').html();
			$(this).find('.select>button em').html($loadTxt);
	
			//select click function
			$(this).find('.select>button').on('click', function() {
				if (!$(this).parents('.select-box').hasClass('on')) {
					selectboxClose();
					$(this).next().find('.selected').attr('aria-selected', true);
					$(this).parents('.select-box').addClass('on').find('.select-option').stop().slideDown($spd);
					$(this).next().focus();
					$(this).attr('aria-expanded', true);
				} else {
					selectboxClose();
				}
			});
	
			//option click function
			$(this).find('li button').on('click', function() {
				const $this = $(this);
				const $thisTxt = $this.html();
				$this.parent().addClass('selected').attr('aria-selected', true);
				$this.parent().siblings().removeClass('selected').removeAttr('aria-selected');
				$this.parents('.select').find('> button em').html($thisTxt);
				$this.parents('.select').find('> button').focus();
				selectboxClose();
			});
	
			//key check function
			$(this).find('.select>button').on('keydown', function(e) {
				if (e.keyCode === 9 && e.shiftKey) {
					selectboxClose();
				}
			});
			$(this).find('li:last-child button').on('keydown', function(e) {
				if (e.keyCode === 9 && e.shiftKey) {
				} else if (e.keyCode === 9) {
					selectboxClose();
				}
			});
		});
	
		$(document).mouseup(function(e) {
			const $el = $('.select-box');
			if (!$el.is(e.target) && $el.has(e.target).length == 0) {
				selectboxClose();
			}
		});
	} selectbox();
</script>
</body>
</html>